<section>
  <div class="w-screen h-screen fixed z-[-10] left-0 top-0"
       style="background: url('<%= @board.background_url %>'); background-size: cover; background-position:center;"
  ></div>

  <div class="flex gap-2">
  <div  data-controller="editable">
    <h1 class="text-2xl font-bold"
        data-action="dblclick->editable#dblclick"
    ><%= @board.name %></h1>

    <%= form_with model: @board, html:{hidden:true, "data-action":"submit->editable#submit"} do |form|  %>
      <%= form.text_field :name, class: "p-0 font-bold text-2xl",  "data-editable-target":"input", "data-action":"focusout->editable#focusout" %>
    <% end %>
  </div>

  <div data-controller="editable" class="ml-auto">
  <%= form_with model: @board, html:{"data-action":"change->editable#focusout"} do |form|  %>
      <div data-editable-target="input"></div> <!-- ! Bad should get form by target  -->
      <%= form.select :public, [['Public', true], ['Private', false]] %>
  <% end %>
  </div>
    <div  data-controller="delete-task" data-action="drop->delete-task#deleteTask dragover->delete-task#allowDrop">
      <%= link_to image_tag("trash.svg", alt:"Delete board", class: "bg-dark p-2 rounded" ), board_path , data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete board?" },  "data-task-path":board_lists_path(@board.id) %>
    </div>
  </div>
  <section class="flex gap-5">
    <%= render @board.lists %>

    <div data-controller="editable" class="bg-gray-300 p-2 rounded h-min min-w-fit">

      <button data-action="click->editable#dblclick">New List +</button>
        <%= form_with model: [@board, @board.lists.build], html:{hidden:true, "data-action":"submit->editable#submit"}  do |form| %>
        <%= form.text_field :name, class: "p-0 font-bold text-xl", "data-editable-target":"input", "data-action":"focusout->editable#focusout" %>
    <% end %>
    </div>

  </section>

</section>